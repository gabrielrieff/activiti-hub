{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/www/repo-activiti-hub/activityhubfront/src/http/api-client.ts"],"sourcesContent":["import ky from \"ky\";\r\nimport { CookiesFn, getCookie } from \"cookies-next\";\r\n\r\nexport const api = ky.create({\r\n  prefixUrl: \"https://localhost:7095/api\",\r\n  hooks: {\r\n    beforeRequest: [\r\n      async (request) => {\r\n        let cookieStore: CookiesFn | undefined;\r\n\r\n        if (typeof window === \"undefined\") {\r\n          const { cookies: serverCookies } = await import(\"next/headers\");\r\n\r\n          cookieStore = serverCookies;\r\n        }\r\n        const token = await getCookie(\"token\", { cookies: cookieStore });\r\n\r\n        if (token) {\r\n          request.headers.set(\"Authorization\", `Bearer ${token}`);\r\n        }\r\n      },\r\n    ],\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,MAAM,2JAAA,CAAA,UAAE,CAAC,MAAM,CAAC;IAC3B,WAAW;IACX,OAAO;QACL,eAAe;YACb,OAAO;gBACL,IAAI;gBAEJ,wCAAmC;oBACjC,MAAM,EAAE,SAAS,aAAa,EAAE,GAAG;oBAEnC,cAAc;gBAChB;gBACA,MAAM,QAAQ,MAAM,CAAA,GAAA,+IAAA,CAAA,YAAS,AAAD,EAAE,SAAS;oBAAE,SAAS;gBAAY;gBAE9D,IAAI,OAAO;oBACT,QAAQ,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBACxD;YACF;SACD;IACH;AACF","debugId":null}},
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file://C%3A/www/repo-activiti-hub/activityhubfront/src/http/get-profile.ts"],"sourcesContent":["import { api } from \"./api-client\";\r\n\r\ninterface getProfileResponse {\r\n  name: string;\r\n  email: string;\r\n  avatar_url: string;\r\n}\r\n\r\nexport async function getProfile() {\r\n  const result = await api.get(\"User\").json<getProfileResponse>();\r\n  return result;\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAQO,eAAe;IACpB,MAAM,SAAS,MAAM,4HAAA,CAAA,MAAG,CAAC,GAAG,CAAC,QAAQ,IAAI;IACzC,OAAO;AACT","debugId":null}},
    {"offset": {"line": 55, "column": 0}, "map": {"version":3,"sources":["file://C%3A/www/repo-activiti-hub/activityhubfront/src/auth/auth.ts"],"sourcesContent":["import { getProfile } from \"@/http/get-profile\";\r\nimport { cookies } from \"next/headers\";\r\nimport { redirect } from \"next/navigation\";\r\n\r\nexport async function isAuthenticated() {\r\n  return !!(await cookies()).get(\"token\")?.value;\r\n}\r\n\r\nexport async function auth() {\r\n  const token = (await cookies()).get(\"token\")?.value;\r\n  if (!token) {\r\n    redirect(\"/auth/sign-in\");\r\n  }\r\n\r\n  try {\r\n    const user = await getProfile();\r\n\r\n    return { user };\r\n  } catch {}\r\n\r\n  redirect(\"/api/auth/sign-out\");\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AAAA;;;;AAEO,eAAe;IACpB,OAAO,CAAC,CAAC,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,GAAG,EAAE,GAAG,CAAC,UAAU;AAC3C;AAEO,eAAe;IACpB,MAAM,QAAQ,CAAC,MAAM,CAAA,GAAA,+HAAA,CAAA,UAAO,AAAD,GAAG,EAAE,GAAG,CAAC,UAAU;IAC9C,IAAI,CAAC,OAAO;QACV,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IAEA,IAAI;QACF,MAAM,OAAO,MAAM,CAAA,GAAA,6HAAA,CAAA,aAAU,AAAD;QAE5B,OAAO;YAAE;QAAK;IAChB,EAAE,OAAM,CAAC;IAET,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;AACX","debugId":null}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file://C%3A/www/repo-activiti-hub/activityhubfront/src/app/auth/layout.tsx"],"sourcesContent":["import { isAuthenticated } from \"@/auth/auth\";\r\nimport { redirect } from \"next/navigation\";\r\n\r\nexport default async function AuthLayout({\r\n  children,\r\n}: Readonly<{\r\n  children: React.ReactNode;\r\n}>) {\r\n  if (await isAuthenticated()) {\r\n    redirect(\"/\");\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center flex-col px-4\">\r\n      {children}\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":";;;;AAAA;AACA;AAAA;;;;AAEe,eAAe,WAAW,EACvC,QAAQ,EAGR;IACA,IAAI,MAAM,CAAA,GAAA,mHAAA,CAAA,kBAAe,AAAD,KAAK;QAC3B,CAAA,GAAA,qLAAA,CAAA,WAAQ,AAAD,EAAE;IACX;IAEA,qBACE,8OAAC;QAAI,WAAU;kBACZ;;;;;;AAGP","debugId":null}}]
}