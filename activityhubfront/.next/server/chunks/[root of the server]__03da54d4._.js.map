{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 6, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"","debugId":null}},
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file://C%3A/www/repo-activiti-hub/activityhubfront/src/http/api-client.ts"],"sourcesContent":["import ky from \"ky\";\r\nimport { CookiesFn, getCookie } from \"cookies-next\";\r\n\r\nexport const api = ky.create({\r\n  prefixUrl: \"https://localhost:7095/api\",\r\n  hooks: {\r\n    beforeRequest: [\r\n      async (request) => {\r\n        let cookieStore: CookiesFn | undefined;\r\n\r\n        if (typeof window === \"undefined\") {\r\n          const { cookies: serverCookies } = await import(\"next/headers\");\r\n\r\n          cookieStore = serverCookies;\r\n        }\r\n        const token = await getCookie(\"token\", { cookies: cookieStore });\r\n\r\n        if (token) {\r\n          request.headers.set(\"Authorization\", `Bearer ${token}`);\r\n        }\r\n      },\r\n    ],\r\n  },\r\n});\r\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,MAAM,MAAM,6JAAA,CAAA,UAAE,CAAC,MAAM,CAAC;IAC3B,WAAW;IACX,OAAO;QACL,eAAe;YACb,OAAO;gBACL,IAAI;gBAEJ,wCAAmC;oBACjC,MAAM,EAAE,SAAS,aAAa,EAAE,GAAG;oBAEnC,cAAc;gBAChB;gBACA,MAAM,QAAQ,MAAM,CAAA,GAAA,iJAAA,CAAA,YAAS,AAAD,EAAE,SAAS;oBAAE,SAAS;gBAAY;gBAE9D,IAAI,OAAO;oBACT,QAAQ,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,OAAO,EAAE,OAAO;gBACxD;YACF;SACD;IACH;AACF","debugId":null}},
    {"offset": {"line": 85, "column": 0}, "map": {"version":3,"sources":["file://C%3A/www/repo-activiti-hub/activityhubfront/src/http/sign-in-with-github.ts"],"sourcesContent":["import { api } from \"./api-client\";\r\n\r\ninterface signInWithGithubRequest {\r\n  code: string;\r\n}\r\n\r\ninterface signInWithGithubResponse {\r\n  token: string;\r\n}\r\n\r\nexport async function signInWithGithub({ code }: signInWithGithubRequest) {\r\n  const result = await api\r\n    .post(\"Auth/login-github\", {\r\n      json: { code },\r\n    })\r\n    .json<signInWithGithubResponse>();\r\n\r\n  return result;\r\n}\r\n"],"names":[],"mappings":";;;AAAA;;AAUO,eAAe,iBAAiB,EAAE,IAAI,EAA2B;IACtE,MAAM,SAAS,MAAM,8HAAA,CAAA,MAAG,CACrB,IAAI,CAAC,qBAAqB;QACzB,MAAM;YAAE;QAAK;IACf,GACC,IAAI;IAEP,OAAO;AACT","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file://C%3A/www/repo-activiti-hub/activityhubfront/src/app/api/auth/callback/route.ts"],"sourcesContent":["import { signInWithGithub } from \"@/http/sign-in-with-github\";\r\nimport { cookies } from \"next/headers\";\r\nimport { NextRequest, NextResponse } from \"next/server\";\r\n\r\nexport async function GET(request: NextRequest) {\r\n  const searchParams = request.nextUrl.searchParams;\r\n\r\n  const code = searchParams.get(\"code\");\r\n\r\n  if (!code) {\r\n    return NextResponse.json(\r\n      { message: \"Github OAuth code was not found.\" },\r\n      { status: 400 }\r\n    );\r\n  }\r\n\r\n  const { token } = await signInWithGithub({ code });\r\n\r\n  (await cookies()).set(\"token\", token, {\r\n    path: \"/\",\r\n    maxAge: 60 * 60 * 24 * 7,\r\n  });\r\n\r\n  const redirectUrl = request.nextUrl.clone();\r\n\r\n  redirectUrl.pathname = \"/\";\r\n  redirectUrl.search = \"\";\r\n\r\n  return NextResponse.redirect(redirectUrl);\r\n}\r\n"],"names":[],"mappings":";;;AAAA;AACA;AACA;;;;AAEO,eAAe,IAAI,OAAoB;IAC5C,MAAM,eAAe,QAAQ,OAAO,CAAC,YAAY;IAEjD,MAAM,OAAO,aAAa,GAAG,CAAC;IAE9B,IAAI,CAAC,MAAM;QACT,OAAO,gIAAA,CAAA,eAAY,CAAC,IAAI,CACtB;YAAE,SAAS;QAAmC,GAC9C;YAAE,QAAQ;QAAI;IAElB;IAEA,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,CAAA,GAAA,6IAAA,CAAA,mBAAgB,AAAD,EAAE;QAAE;IAAK;IAEhD,CAAC,MAAM,CAAA,GAAA,iIAAA,CAAA,UAAO,AAAD,GAAG,EAAE,GAAG,CAAC,SAAS,OAAO;QACpC,MAAM;QACN,QAAQ,KAAK,KAAK,KAAK;IACzB;IAEA,MAAM,cAAc,QAAQ,OAAO,CAAC,KAAK;IAEzC,YAAY,QAAQ,GAAG;IACvB,YAAY,MAAM,GAAG;IAErB,OAAO,gIAAA,CAAA,eAAY,CAAC,QAAQ,CAAC;AAC/B","debugId":null}}]
}